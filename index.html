<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vocabulary Trainer</title>

<style>
body {
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    margin: 0;
    background: #ffffff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    text-align: center;
}

.container {
    width: 95%;
    max-width: 500px;
}

.word {
    font-size: 28px;
    font-weight: 600;
    margin-bottom: 20px;
}

.definition {
    display: none;
    font-size: 18px;
    margin-bottom: 30px;
    color: #444;
}

button {
    padding: 12px 16px;
    margin: 6px;
    border: none;
    border-radius: 6px;
    font-size: 14px;
    cursor: pointer;
}

.primary { background: #111; color: white; }
.good { background: #4CAF50; color: white; }
.medium { background: #FF9800; color: white; }
.bad { background: #F44336; color: white; }

.topbar {
    position: absolute;
    top: 10px;
    width: 100%;
    display: flex;
    justify-content: space-around;
    font-size: 14px;
}
</style>
</head>

<body>

<div class="topbar">
    <div id="progress"></div>
    <button onclick="shuffleDeck()">Shuffle</button>
</div>

<div class="container">
    <div class="word" onclick="reveal()"></div>
    <div class="definition"></div>

    <div id="revealBtn">
        <button class="primary" onclick="reveal()">Reveal</button>
    </div>

    <div id="ratingBtns" style="display:none;">
        <button class="good" onclick="rateCard(3)">Knew</button>
        <button class="medium" onclick="rateCard(2)">Unsure</button>
        <button class="bad" onclick="rateCard(1)">Didn't Know</button>
    </div>
</div>

<script>
const flashcards = [
["bodice","the close fitting upper part of a dress covering the chest and back above the waist"],
["saccharine","excessively sweet or sentimental"],
["trite","lacking originality; dull from overuse"],
["expedite","make an action happen sooner"],
["extirpate","eradicate or destroy completely"],
["apostate","someone who renounces religious or political belief"],
["vernacular","language spoken by ordinary people in a region"],
["externality","a consequence affecting others not reflected in market prices"],
["pastiche","an artistic work imitating another style"],
["ersatz","not genuine; inferior substitute"],
["perambulate","walk leisurely"],
["vixen","a female fox; spirited woman"],
["profligacy","extravagant wastefulness"],
["epicure","lover of fine food and drink"],
["urbane","courteous and refined"],
["larceny","theft"],
["sardonic","grimly mocking"],
["hubris","excessive pride"],
["raconteur","skilled storyteller"],
["apocryphal","of doubtful authenticity"],
["zealot","fanatical person"],
["capricious","given to sudden mood changes"],
["paragon","perfect example"],
["lugubrious","sad and dismal"],
["apogee","highest point"],
["enervate","drain of energy"],
["sangfroid","calmness under pressure"],
["perspicacious","keen insight"],
["precocious","developed early"],
["anachronistic","belonging to another time"],
["allegory","story with hidden meaning"],
["ambivalent","mixed feelings"],
["aplomb","self-confidence"],
["astute","shrewd"],
["auspicious","favourable"],
["banal","unoriginal"],
["benevolent","kind"],
["brevity","concise expression"],
["candour","honesty"],
["catharsis","emotional release"],
["clandestine","secret"],
["convivial","friendly and lively"],
["crass","lacking sensitivity"],
["demagogue","appeals to prejudice"],
["dogmatic","asserting as unquestionably true"],
["erudite","very knowledgeable"],
["esoteric","understood by few"],
["ethereal","delicate, otherworldly"],
["exonerate","absolve from blame"],
["facetious","flippantly humorous"],
["fortuitous","by chance"],
["gregarious","sociable"],
["immutable","unchangeable"],
["inscrutable","impossible to understand"],
["juxtaposition","side-by-side contrast"],
["kudos","praise"],
["macabre","related to death"],
["magnanimous","generous"],
["melancholy","sadness"],
["misanthrope","person who dislikes humanity"],
["nadir","lowest point"],
["nebulous","vague"],
["obfuscate","make unclear"],
["ostentatious","showy"],
["panacea","cure-all"],
["parsimonious","unwilling to spend"],
["pedantry","obsession with minor rules"],
["pertinent","relevant"],
["plutocrat","wealth-based ruler"],
["poignant","deeply moving"],
["prudent","careful"],
["rectitude","moral correctness"],
["rudimentary","basic"],
["sagacious","wise"],
["sanctimonious","pretending moral superiority"],
["schadenfreude","pleasure at anotherâ€™s misfortune"],
["stoic","endures hardship without complaint"],
["superfluous","unnecessary"],
["ubiquitous","found everywhere"],
["uncanny","strangely unsettling"],
["vindicate","clear of blame"],
["vivacious","lively"]
];

let deck = [];
let current = 0;
let seen = 0;

function init() {
    deck = flashcards.map(card => ({...card, weight:1}));
    nextCard();
}

function nextCard() {
    document.querySelector(".definition").style.display="none";
    document.getElementById("ratingBtns").style.display="none";
    document.getElementById("revealBtn").style.display="block";

    if(deck.length === 0) {
        alert("Session complete!");
        init();
        return;
    }

    current = weightedRandom();
    document.querySelector(".word").innerText = deck[current][0];
    document.querySelector(".definition").innerText = deck[current][1];
    document.getElementById("progress").innerText = "Cards reviewed: " + seen;
}

function reveal() {
    document.querySelector(".definition").style.display="block";
    document.getElementById("ratingBtns").style.display="block";
    document.getElementById("revealBtn").style.display="none";
}

function rateCard(score) {
    seen++;
    if(score === 3) deck.splice(current,1);
    if(score === 2) deck[current].weight += 1;
    if(score === 1) deck[current].weight += 3;
    nextCard();
}

function weightedRandom() {
    let totalWeight = deck.reduce((sum, card)=> sum + card.weight, 0);
    let random = Math.random() * totalWeight;
    for(let i=0;i<deck.length;i++){
        random -= deck[i].weight;
        if(random <= 0) return i;
    }
}

function shuffleDeck() {
    deck.sort(()=>Math.random()-0.5);
}

init();
</script>

</body>
</html>
